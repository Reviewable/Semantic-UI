!function(M,O,j,E){M.fn.modal=function(y){var w,k=M(this),H=M(O),S=M(j),x=M("body"),z=(new Date).getTime(),A=[],D=y,F="string"==typeof D,T=[].slice.call(arguments,1),C=O.requestAnimationFrame||O.mozRequestAnimationFrame||O.webkitRequestAnimationFrame||O.msRequestAnimationFrame||function(e){setTimeout(e,0)};return k.each(function(){var i,n,e,o,t,s=M.isPlainObject(y)?M.extend(!0,{},M.fn.modal.settings,y):M.extend({},M.fn.modal.settings),r=s.selector,a=s.className,c=s.namespace,l=s.error,d="."+c,u="module-"+c,m=k.selector||"",f=M(this),h=M(s.context),g=f.find(r.close),p=this,b=f.data(u),v={initialize:function(){v.verbose("Initializing dimmer",h),M.fn.dimmer===E?v.error(l.dimmer):(o=h.dimmer({closable:!1,useCSS:!0,duration:{show:.9*s.duration,hide:1.1*s.duration}}),s.detachable&&o.dimmer("add content",f),t=o.dimmer("get dimmer"),v.refreshSelectors(),v.verbose("Attaching close events",g),g.on("click"+d,v.event.close),H.on("resize"+d,v.event.resize),v.instantiate())},instantiate:function(){v.verbose("Storing instance of modal"),b=v,f.data(u,b)},destroy:function(){v.verbose("Destroying previous modal"),f.removeData(u).off(d),g.off(d),h.dimmer("destroy")},refresh:function(){v.remove.scrolling(),v.cacheSizes(),v.set.screenHeight(),v.set.type(),v.set.position()},refreshSelectors:function(){n=f.siblings(r.modal),i=n.add(f)},attachEvents:function(e,i){var n=M(e);i=M.isFunction(v[i])?v[i]:v.toggle,0<n.size()?(v.debug("Attaching modal events to element",e,i),n.off(d).on("click"+d,i)):v.error(l.notFound)},event:{close:function(){v.verbose("Closing element pressed"),M(this).is(r.approve)?!1!==M.proxy(s.onApprove,p)()?v.hide():v.verbose("Approve callback returned false cancelling hide"):!M(this).is(r.deny)||!1!==M.proxy(s.onDeny,p)()?v.hide():v.verbose("Deny callback returned false cancelling hide")},click:function(e){0===M(e.target).closest(r.modal).size()&&(v.debug("Dimmer clicked, hiding all modals"),s.allowMultiple?v.hide():v.hideAll(),e.stopImmediatePropagation())},debounce:function(e,i){clearTimeout(v.timer),v.timer=setTimeout(e,i)},keyboard:function(e){27==e.which&&(s.closable?(v.debug("Escape key pressed hiding modal"),v.hide()):v.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){o.dimmer("is active")&&C(v.refresh)}},toggle:function(){v.is.active()?v.hide():v.show()},show:function(e){e=M.isFunction(e)?e:function(){},v.showDimmer(),v.showModal(e)},onlyVisible:function(){return v.refreshSelectors(),v.is.active()&&0===n.filter(":visible").size()},othersVisible:function(){return v.refreshSelectors(),0<n.filter(":visible").size()},showModal:function(e){var i;v.is.active()?v.debug("Modal is already visible"):(e=M.isFunction(e)?e:function(){},v.save.focus(),v.add.keyboardShortcuts(),v.cache===E&&v.cacheSizes(),v.set.position(),v.set.screenHeight(),v.set.type(),v.othersVisible()&&!s.allowMultiple?(v.debug("Other modals visible, queueing show animation"),v.hideOthers(v.showModal)):(M.proxy(s.onShow,p)(),i=function(){v.set.active(),M.proxy(s.onVisible,p)(),e()},s.transition&&M.fn.transition!==E&&f.transition("is supported")?(v.debug("Showing modal with css animations"),f.transition(s.transition+" in",s.duration,i)):(v.debug("Showing modal with javascript"),f.fadeIn(s.duration,s.easing,i))))},showDimmer:function(){o.dimmer("is active")?v.debug("Dimmer is already visible"):(v.debug("Showing dimmer"),o.dimmer("show"))},hide:function(e){e=M.isFunction(e)?e:function(){},v.refreshSelectors(),v.onlyVisible()&&v.hideDimmer(),v.hideModal(e)},hideDimmer:function(){v.is.active()?(v.debug("Hiding dimmer"),s.closable&&t.off("click"+d),o.dimmer("hide",function(){s.transition&&M.fn.transition!==E&&f.transition("is supported")&&(f.transition("reset"),v.remove.screenHeight()),v.remove.active()})):v.debug("Dimmer is already hidden")},hideModal:function(e){var i;v.is.active()?(e=M.isFunction(e)?e:function(){},v.restore.focus(),v.remove.keyboardShortcuts(),M.proxy(s.onHide,p)(),i=function(){v.remove.active(),M.proxy(s.onHidden,p)(),e()},s.transition&&M.fn.transition!==E&&f.transition("is supported")?(v.debug("Hiding modal with css animations"),f.transition(s.transition+" out",s.duration,i)):(v.debug("Hiding modal with javascript"),f.fadeOut(s.duration,s.easing,i))):v.debug("Modal is already hidden")},hideAll:function(e){e=M.isFunction(e)?e:function(){},(f.is(":visible")||v.othersVisible())&&(v.debug("Hiding all visible modals"),v.hideDimmer(),i.filter(":visible").modal("hide modal",e))},hideOthers:function(e){e=M.isFunction(e)?e:function(){},v.othersVisible()&&(v.debug("Hiding other modals"),n.filter(":visible").modal("hide modal",e))},add:{keyboardShortcuts:function(){v.verbose("Adding keyboard shortcuts"),S.on("keyup"+d,v.event.keyboard)}},save:{focus:function(){e=M(j.activeElement).blur()}},restore:{focus:function(){e&&0<e.size()&&e.focus()}},remove:{active:function(){f.removeClass(a.active)},screenHeight:function(){v.cache.height>v.cache.pageHeight&&(v.debug("Removing page height"),x.css("height",""))},keyboardShortcuts:function(){v.verbose("Removing keyboard shortcuts"),S.off("keyup"+d)},scrolling:function(){o.removeClass(a.scrolling),f.removeClass(a.scrolling)}},cacheSizes:function(){var e=f.outerHeight();0!==e&&(v.cache={pageHeight:M(j).outerHeight(),height:e+s.offset,contextHeight:("body"==s.context?M(O):o).height()},v.debug("Caching modal and container sizes",v.cache))},can:{fit:function(){return v.cache.height<v.cache.contextHeight}},is:{active:function(){return f.hasClass(a.active)},modernBrowser:function(){return!(O.ActiveXObject||"ActiveXObject"in O)}},set:{screenHeight:function(){v.cache.height>v.cache.pageHeight&&(v.debug("Modal is taller than page content, resizing page height"),x.css("height",v.cache.height+s.padding))},active:function(){var e,i;f.addClass(a.active),s.closable&&t.off("click"+d).on("click"+d,v.event.click),s.autofocus&&((i=(e=f.find(":input:visible")).filter("[autofocus]")).length?i:e).first().focus()},scrolling:function(){o.addClass(a.scrolling),f.addClass(a.scrolling)},type:function(){v.can.fit()?(v.verbose("Modal fits on screen"),v.remove.scrolling()):(v.verbose("Modal cannot fit on screen setting to scrolling"),v.set.scrolling())},position:function(){v.verbose("Centering modal on page",v.cache),v.can.fit()?f.css({top:"",marginTop:-v.cache.height/2}):f.css({marginTop:"1em",top:S.scrollTop()})}},setting:function(e,i){if(v.debug("Changing setting",e,i),M.isPlainObject(e))M.extend(!0,s,e);else{if(i===E)return s[e];s[e]=i}},internal:function(e,i){if(M.isPlainObject(e))M.extend(!0,v,e);else{if(i===E)return v[e];v[e]=i}},debug:function(){s.debug&&(s.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,s.name+":"),v.debug.apply(console,arguments)))},verbose:function(){s.verbose&&s.debug&&(s.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,s.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,s.name+":"),v.error.apply(console,arguments)},performance:{log:function(e){var i,n;s.performance&&(n=(i=(new Date).getTime())-(z||i),z=i,A.push({Element:p,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,100)},display:function(){var e=s.name+":",n=0;z=!1,clearTimeout(v.performance.timer),M.each(A,function(e,i){n+=i["Execution Time"]}),e+=" "+n+"ms",m&&(e+=" '"+m+"'"),(console.group!==E||console.table!==E)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):M.each(A,function(e,i){console.log(i.Name+": "+i["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(o,e,i){var t,s,n,r=b;return e=e||T,i=p||i,"string"==typeof o&&r!==E&&(o=o.split(/[\. ]/),t=o.length-1,M.each(o,function(e,i){var n=e!=t?i+o[e+1].charAt(0).toUpperCase()+o[e+1].slice(1):o;if(M.isPlainObject(r[n])&&e!=t)r=r[n];else{if(r[n]!==E)return s=r[n],!1;{if(!M.isPlainObject(r[i])||e==t)return r[i]!==E&&(s=r[i]),!1;r=r[i]}}})),M.isFunction(s)?n=s.apply(i,e):s!==E&&(n=s),M.isArray(w)?w.push(n):w!==E?w=[w,n]:n!==E&&(w=n),s}};F?(b===E&&v.initialize(),v.invoke(D)):(b!==E&&v.destroy(),v.initialize())}),w!==E?w:this},M.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!0,performance:!0,allowMultiple:!0,detachable:!0,closable:!0,autofocus:!0,context:"body",duration:500,easing:"easeOutQuad",offset:0,transition:"scale",padding:30,onShow:function(){},onHide:function(){},onVisible:function(){},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:".close, .actions .button",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined."},className:{active:"active",scrolling:"scrolling"}},M.extend(M.easing,{easeOutQuad:function(e,i,n,o,t){return-o*(i/=t)*(i-2)+n}})}(jQuery,window,document);